{"version":3,"sources":["components/map/map.context.jsx","components/map/map.jsx","components/layers/layers.jsx","components/layers/vector-layer/vector.layer.jsx","components/layers/tile-layer/tile.layer.jsx","components/source/vector.js","components/source/osm.js","components/controls/controls.jsx","components/controls/full-screen/full-screen.control.jsx","redux/selectors/layers.selectors.js","components/input/input.jsx","constants/actions.js","components/controls/layers-controller/layers-controller.jsx","redux/actions/layers.actions.js","components/app/app.jsx","reportWebVitals.js","core/layers/styles.js","redux/reducers/layers.reducer.js","redux/reducers/index.js","redux/store/store.js","index.jsx"],"names":["MapContext","createContext","map","Map","children","zoom","mapRef","useRef","useState","setMap","useEffect","options","view","View","center","fromLonLat","layers","controls","overlays","mapObject","OLMap","setTarget","current","undefined","getView","setZoom","Provider","value","ref","className","Layers","VectorLayer","source","useContext","vectorLayer","OLVectorLayer","declutter","addLayer","removeLayer","TileLayer","zIndex","tileLayer","OLTileLayer","setZIndex","vector","features","VectorSource","osm","olSource","Controls","attrs","FullScreenControl","fullScreenControl","FullScreen","activeClassName","inactiveClassName","tipLabel","push","remove","selectLayers","state","Input","id","label","labelClassName","htmlFor","type","TOGGLE_LAYER_VISIBILITY","TOGGLE_SUBLAYER_VISIBILITY","LayersController","dispatch","useDispatch","regions","useSelector","handleCheckbox","key","payload","toggleLayerVisibility","handleSublayerCheckbox","sublayerKey","layerKey","toggleSubLayerVisibility","handleControl","control","checked","target","Object","entries","name","onChange","region","visible","subjects","subjectKey","subject","App","isVisibleOSM","setIsVisibleOSM","regionKey","vectors","ind","Array","style","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","border","Style","stroke","Stroke","color","lineDash","lineCap","lineJoin","width","fill","Fill","river","city","image","Circle","radius","oopt","seas","noise","landscaping","fillColor","industrialZones","kiza","emissions","kizas","ibMeb","izas","izvs","spans","PROJECTION","initialState","izhevsk","prevVisible","noise58","noise61","noise64","noise70","noise73","noise76","noise79","GeoJSON","readFeatures","featureProjection","get","styles","landscape","emission","ib","iza","izv","span1990","span","span2000","urfo","borders","geojsonBorders","geojsonRegions","geojsonSeas","rivers","geojsonRivers","cities","geojsonCities","protectedArea","geojsonOOPT","reducers","layer","isLayerVisible","isSomeSublayerVisible","values","forEach","newState","toggledSublayer","isVisible","every","combineReducers","composeEnhancers","window","compose","configureStore","middlewares","thunk","createStore","applyMiddleware","store","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qqkrKAIeA,EAFI,IAAIC,gBAAc,CAAEC,IAAK,K,wBC4C7BC,EAxCH,SAAC,GAGN,IAFLC,EAEI,EAFJA,SACAC,EACI,EADJA,KAEMC,EAASC,iBAAO,MADlB,EAEkBC,mBAAS,MAF3B,mBAEGN,EAFH,KAEQO,EAFR,KA4BJ,OAxBAC,qBAAU,WACR,IAAMC,EAAU,CACdC,KAAM,IAAIC,IAAK,CAAER,OAAMS,OAAQC,YAAW,CAAC,UAAW,cACtDC,OAAQ,GACRC,SAAU,GACVC,SAAU,IAGNC,EAAY,IAAIC,IAAMT,GAK5B,OAJAQ,EAAUE,UAAUf,EAAOgB,SAE3Bb,EAAOU,GAEA,WACLA,EAAUE,eAAUE,MAErB,IAEHb,qBAAU,WACJR,GACFA,EAAIsB,UAAUC,QAAQpB,KAEvB,CAACA,IAGF,cAAC,EAAWqB,SAAZ,CAAqBC,MAAO,CAAEzB,OAA9B,SACE,qBAAK0B,IAAKtB,EAAQuB,UAAU,SAA5B,SACGzB,OCpCM0B,EAFA,SAAC,GAAD,IAAG1B,EAAH,EAAGA,SAAH,OAAmB,8BAAMA,K,SC0BzB2B,EAxBK,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAA2B,IAAnBrB,eAAmB,MAAT,GAAS,EACxCT,EAAQ+B,qBAAWjC,GAAnBE,IAqBR,OAnBAQ,qBAAU,WACR,GAAKR,EAAL,CAIA,IAAMgC,EAAc,IAAIC,IAAJ,aAClBC,WAAW,EACXJ,UACGrB,IAIL,OAFAT,EAAImC,SAASH,GAEN,WACDhC,GACFA,EAAIoC,YAAYJ,OAGnB,CAAChC,EAAKS,IAEF,M,SCIM4B,EA1BG,SAAC,GAA4B,IAA1BP,EAAyB,EAAzBA,OAAyB,IAAjBQ,cAAiB,MAAR,EAAQ,EACpCtC,EAAQ+B,qBAAWjC,GAAnBE,IAsBR,OApBAQ,qBAAU,WACR,GAAKR,EAAL,CAIA,IAAMuC,EAAY,IAAIC,IAAY,CAChCV,SACAQ,WAMF,OAHAtC,EAAImC,SAASI,GACbA,EAAUE,UAAUH,GAEb,WACDtC,GACFA,EAAIoC,YAAYG,OAGnB,CAACvC,IAEG,M,SCnBM0C,MANf,YAA+B,IAAbC,EAAY,EAAZA,SAChB,OAAO,IAAIC,IAAa,CACtBD,c,SCEWE,MAJf,WACE,OAAO,IAAIC,K,QCCEC,EAFE,SAAC,GAAD,IAAG7C,EAAH,EAAGA,SAAa8C,EAAhB,mCAA6B,+CAASA,GAAT,aAAiB9C,M,QCuBhD+C,G,OApBW,WAAO,IACvBjD,EAAQ+B,qBAAWjC,GAAnBE,IAiBR,OAfAQ,qBAAU,WACR,GAAKR,EAAL,CAGA,IAAMkD,EAAoB,IAAIC,IAAW,CACvCxB,UAAW,sBACXyB,gBAAiB,8BACjBC,kBAAmB,8BACnBC,SAAU,kHAIZ,OAFAtD,EAAIe,SAASwC,KAAKL,GAEX,kBAAMlD,EAAIe,SAASyC,OAAON,OAChC,CAAClD,IAEG,OCvBIyD,G,OAAe,SAAAC,GAAK,OAAIA,EAAM5C,SCiB5B6C,G,OAdD,SAAC,GAKR,IAJLC,EAII,EAJJA,GAII,IAHJC,aAGI,MAHI,GAGJ,MAFJC,sBAEI,MAFa,GAEb,EADDd,EACC,+CACJ,OACE,wBAAOe,QAASH,EAAIjC,UAAS,2BAAsBmC,GAAnD,UACGD,EACD,mCAAOG,KAAK,OAAOrC,UAAU,SAAYqB,SCZlCiB,EAA0B,gCAC1BC,EAA6B,mCCuD3BC,G,OAjDU,SAAC,GAEnB,IAAD,IADJpD,gBACI,MADO,GACP,EACEqD,EAAWC,cACXC,EAAUC,YAAYd,GAEtBe,EAAiB,SAACC,GAAD,OAAS,kBAAML,ECXH,SAACK,GAAD,MAAU,CAAET,KAAMC,EAAyBS,QAAS,CAAED,QDW1CE,CAAsBF,MAC/DG,EAAyB,SAACH,EAAKI,GAAN,OAAsB,kBAAMT,ECXrB,SAACU,EAAUD,GAAX,OAA2BC,GAAYD,GAC5E,CAAEb,KAAME,EAA4BQ,QAAS,CAAEI,WAAUD,gBDUUE,CAAyBN,EAAKI,MAE5FG,EAAgB,SAAAC,GAAO,OAAI,gBAAaC,EAAb,EAAGC,OAAUD,QAAb,OAA6BD,EAAQC,KAEtE,OACE,qBAAIvD,UAAU,oBAAd,UACGyD,OAAOC,QAAQtE,GAAUf,KAAI,mCAAEyE,EAAF,YAASa,EAAT,EAASA,KAAML,EAAf,EAAeA,QAASxD,EAAxB,EAAwBA,MAAxB,OAC5B,oBAAcE,UAAU,6BAAxB,SACE,cAAC,EAAD,CACEqC,KAAK,WACLkB,QAASzD,EACToC,MAAOyB,EACPC,SAAUP,EAAcC,MALnBR,MASVW,OAAOC,QAAQf,GAAStE,KAAI,mCAAEyE,EAAF,KAAOe,EAAP,YAC3B,qBAAc7D,UAAU,6BAAxB,UACE,cAAC,EAAD,CACEqC,KAAK,WACLkB,QAASM,EAAO/E,QAAQgF,QACxB5B,MAAO2B,EAAOF,KACdC,SAAUf,EAAeC,KAE1BW,OAAOC,QAAQG,EAAOE,UAAU1F,KAAI,mCAAE2F,EAAF,KAAcC,EAAd,YACnC,oBAAIjE,UAAU,6BAAd,SACE,oBAAIA,UAAU,6BAAd,SACE,cAAC,EAAD,CACEqC,KAAK,WACLkB,QAASU,EAAQnF,QAAQgF,QACzB5B,MAAO+B,EAAQN,KACfC,SAAUX,EAAuBH,EAAKkB,QANIA,QAR3ClB,WEiBFoB,EAtCH,WACV,IAAM1F,EAAOE,iBAAO,IACdiE,EAAUC,YAAYd,GAFZ,EAGwBnD,oBAAS,GAHjC,mBAGTwF,EAHS,KAGKC,EAHL,KAKhB,OACE,qBAAKpE,UAAU,MAAf,SACE,eAAC,EAAD,CAAKxB,KAAMA,EAAKiB,QAAhB,UACE,eAAC,EAAD,WACG0E,GACC,cAAC,EAAD,CACEhE,OAAQe,IACRP,OAAQ,IAGX8C,OAAOC,QAAQf,GAAStE,KAAI,mCAAEgG,EAAF,KAAaR,EAAb,YAAyBJ,OAAOC,QAAQG,EAAOE,UAAU1F,KAAK,mCAAE2F,EAAF,KAAcC,EAAd,YACzFA,EAAQK,QAAQjG,KAAI,SAAC0C,EAAQwD,GAAT,aAClB,cAAC,EAAD,CAEEpE,OAAQY,aAAkByD,MAAQzD,EAAO,GAAKA,EAC9CjC,QAAO,uCACF+E,EAAO/E,SACPmF,EAAQnF,SAFN,IAGL2F,MAAO1D,aAAkByD,MAAQzD,EAAO,GAAjC,UAAuCkD,EAAQnF,QAAQ2F,aAAvD,QAAgEZ,EAAO/E,QAAQ2F,SAN1F,UACUJ,EADV,YACuBL,EADvB,YACqCO,gBAW3C,eAAC,EAAD,WACE,cAAC,EAAD,IACA,cAAC,EAAD,CAAkBnF,SAAU,CAAE8B,IAAK,CAAEyC,KAAM,qCAAaL,QAASc,EAAiBtE,MAAOqE,eC7BpFO,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,gECLDQ,EAAS,IAAIC,IAAM,CAC9BC,OAAQ,IAAIC,IAAO,CACjBC,MAAO,yBACPC,SAAU,KACVC,QAAS,SACTC,SAAU,QACVC,MAAO,MAIE9B,EAAS,CACpB,IAAIuB,IAAM,CACRC,OAAQ,IAAIC,IAAO,CACjBC,MAAO,2BACPC,SAAU,KACVC,QAAS,OACTC,SAAU,QACVC,MAAO,IAETC,KAAM,IAAIC,IAAK,CAAEN,MAAO,iCAIfO,EAAQ,CACnB,IAAIV,IAAM,CACRC,OAAQ,IAAIC,IAAO,CACjBC,MAAO,yBACPC,SAAU,KACVC,QAAS,SACTC,SAAU,QACVC,MAAO,IAETC,KAAM,IAAIC,IAAK,CAAEN,MAAO,gCAIfQ,EAAO,CAClB,IAAIX,IAAM,CACRY,MAAO,IAAIC,IAAO,CAChBC,OAAQ,EACRb,OAAQ,IAAIC,IAAO,CACjBC,MAAO,qBACPC,SAAU,KACVC,QAAS,OACTC,SAAU,QACVC,MAAO,IAETC,KAAM,IAAIC,IAAK,CAAEN,MAAO,iCAKjBY,EAAO,CAClB,IAAIf,IAAM,CACRC,OAAQ,IAAIC,IAAO,CACjBC,MAAO,qBACPC,SAAU,KACVC,QAAS,OACTC,SAAU,QACVC,MAAO,IAETC,KAAM,IAAIC,IAAK,CAAEN,MAAO,6BAIfa,EAAO,CAClB,IAAIhB,IAAM,CACRC,OAAQ,IAAIC,IAAO,CACjBC,MAAO,qBACPC,SAAU,KACVC,QAAS,OACTC,SAAU,QACVC,MAAO,IAETC,KAAM,IAAIC,IAAK,CAAEN,MAAO,8BAIfc,EAAQ,SAACd,GAAD,MAAW,CAC9B,IAAIH,IAAM,CACRC,OAAQ,IAAIC,IAAO,CACjBC,QACAC,SAAU,KACVC,QAAS,SACTC,SAAU,QACVC,MAAO,QAKAW,EAAc,SAACC,GAAD,MAAe,CACxC,IAAInB,IAAM,CACRC,OAAQ,IAAIC,IAAO,CACjBC,MAAO,qBACPC,SAAU,KACVC,QAAS,OACTC,SAAU,QACVC,MAAO,IAETC,KAAM,IAAIC,IAAK,CAAEN,MAAOgB,QAIfC,EAAkB,CAC7B,IAAIpB,IAAM,CACRC,OAAQ,IAAIC,IAAO,CACjBC,MAAO,wBACPC,SAAU,KACVC,QAAS,OACTC,SAAU,QACVC,MAAO,IAETC,KAAM,IAAIC,IAAK,CAAEN,MAAO,+BAIfkB,EAAO,SAACF,GAAD,MAAe,CACjC,IAAInB,IAAM,CACRC,OAAQ,IAAIC,IAAO,CACjBC,MAAO,qBACPC,SAAU,KACVC,QAAS,OACTC,SAAU,QACVC,MAAO,IAETC,KAAM,IAAIC,IAAK,CAAEN,MAAOgB,Q,4HCxDtBD,GAAc,CAClB,C,OAAe,4BACf,C,OAAgB,4BAChB,C,OAAgB,0BAChB,C,OAAgB,yBAGZI,GAAY,C,6BAOZC,GAAQ,CACZ,C,OAAQ,4BACR,C,OAAS,4BACT,C,OAAS,4BACT,C,OAAS,4BACT,C,OAAS,6BAGLC,GAAQ,CACZ,C,OAAS,wBACT,C,OAAS,wBACT,C,OAAS,0BACT,C,OAAU,0BACV,C,OAAU,wBACV,C,OAAU,wBAGNC,GAAO,CACX,C,OAAQ,4BACR,C,OAAQ,6BAGJC,GAAO,CACX,C,OAAQ,4BACR,C,OAAQ,4BACR,C,OAAQ,6BAGJC,GAAQ,CACZ,CACE,C,OAAS,4BACT,C,OAAS,0BACT,C,OAAS,wBACT,C,OAAS,yBAEX,CACE,C,OAAc,2BACd,C,OAAc,2BACd,C,OAAc,4BACd,C,OAAc,8BAIZC,GAAa,YAEbC,GAAe,CACnBC,QAAS,CACPvD,KAAM,uCACN7E,QAAS,CACPgF,SAAS,GAEXC,SAAU,CACRsC,MAAO,CACL1C,KAAM,2JACN7E,QAAS,CACPgF,SAAS,EACTqD,YAAa,MAEf7C,QAlFO,CACb,CAAC8C,GAAS,0BACV,CAACC,GAAS,0BACV,CAACC,GAAS,0BACV,CAACC,GAAS,0BACV,CAACC,GAAS,0BACV,CAACC,GAAS,0BACV,CAACC,GAAS,2BA2EYrJ,KAAI,mCAAEgI,EAAF,KAASd,EAAT,WAAoB,CACtCxE,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAavB,EAAO,CAAEwB,kBAAmBC,YAAId,QAEvEe,EAAaxC,QAGjBe,YAAa,CACX3C,KAAM,+DACN7E,QAAS,CACPgF,SAAS,EACTqD,YAAa,MAEf7C,QAASgC,GAAYjI,KAAI,mCAAE2J,EAAF,KAAazB,EAAb,WAA4B,CACnDxF,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAaI,EAAW,CAAEH,kBAAmBC,YAAId,QAE3Ee,EAAmBxB,QAGvBC,gBAAiB,CACf7C,KAAM,oGACN7E,QAAS,CACPgF,SAAS,EACTqD,YAAa,MAEf7C,QAASoC,GAAUrI,KAAI,SAAC4J,GAAD,MAAc,CACnClH,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAaK,EAAU,CAAEJ,kBAAmBC,YAAId,QAE1Ee,OAGJtB,KAAM,CACJ9C,KAAM,2BACN7E,QAAS,CACPgF,SAAS,EACTqD,YAAa,MAEf7C,QAASqC,GAAMtI,KAAI,mCAAEoI,EAAF,KAAQF,EAAR,WAAuB,CACxCxF,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAanB,EAAM,CAAEoB,kBAAmBC,YAAId,QAEtEe,EAAYxB,QAGhBK,MAAO,CACLjD,KAAM,0OACN7E,QAAS,CACPgF,SAAS,EACTqD,YAAa,MAEf7C,QAASsC,GAAMvI,KAAI,mCAAE6J,EAAF,KAAM3B,EAAN,WAAqB,CACtCxF,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAaM,EAAI,CAAEL,kBAAmBC,YAAId,QAEpEe,EAAYxB,QAGhB4B,IAAK,CACHxE,KAAM,mZACN7E,QAAS,CACPgF,SAAS,EACTqD,YAAa,MAEf7C,QAASuC,GAAKxI,KAAI,mCAAE8J,EAAF,KAAO5B,EAAP,WAAsB,CACtCxF,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAaO,EAAK,CAAEN,kBAAmBC,YAAId,QAErEe,EAAmBxB,QAGvB6B,IAAK,CACHzE,KAAM,qKACN7E,QAAS,CACPgF,SAAS,EACTqD,YAAa,MAEf7C,QAASwC,GAAKzI,KAAI,mCAAE+J,EAAF,KAAO7B,EAAP,WAAsB,CACtCxF,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAaQ,EAAK,CAAEP,kBAAmBC,YAAId,QAErEe,EAAmBxB,QAGvB8B,SAAU,CACR1E,KAAM,oQACN7E,QAAS,CACPgF,SAAS,EACTqD,YAAa,MAEf7C,QAASyC,GAAM,GAAG1I,KAAI,mCAAEiK,EAAF,KAAQ/B,EAAR,WAAuB,CAC3CxF,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAaU,EAAM,CAAET,kBAAmBC,YAAId,QAEtEe,EAAmBxB,QAGvBgC,SAAU,CACR5E,KAAM,oQACN7E,QAAS,CACPgF,SAAS,EACTqD,YAAa,MAEf7C,QAASyC,GAAM,GAAG1I,KAAI,mCAAEiK,EAAF,KAAQ/B,EAAR,WAAuB,CAC3CxF,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAaU,EAAM,CAAET,kBAAmBC,YAAId,QAEtEe,EAAmBxB,UAK3BiC,KAAM,CACJ7E,KAAM,2JACN7E,QAAS,CACPgF,SAAS,GAEXC,SAAU,CACR0E,QAAS,CACPxG,GAAI,EACJ0B,KAAM,6CACN7E,QAAS,CACPgF,SAAS,EACTW,MAAOsD,GAETzD,QAAS,CACPvD,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAac,GAAgB,CAAEb,kBAAmBC,YAAId,UAIpFrE,QAAS,CACPV,GAAI,EACJ0B,KAAM,6CACN7E,QAAS,CACPgF,SAAS,EACTW,MAAOsD,GAETzD,QAAS,CACPvD,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAae,GAAgB,CAAEd,kBAAmBC,YAAId,UAIpFZ,KAAM,CACJnE,GAAI,EACJ0B,KAAM,2BACN7E,QAAS,CACPgF,SAAS,EACTW,MAAOsD,GAETzD,QAAS,CACPvD,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAagB,GAAa,CAAEf,kBAAmBC,YAAId,UAIjF6B,OAAQ,CACN5G,GAAI,EACJ0B,KAAM,2BACN7E,QAAS,CACPgF,SAAS,EACTW,MAAOsD,GAETzD,QAAS,CACPvD,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAakB,GAAe,CAAEjB,kBAAmBC,YAAId,UAInF+B,OAAQ,CACN9G,GAAI,EACJ0B,KAAM,uCACN7E,QAAS,CACPgF,SAAS,EACTW,MAAOsD,GAETzD,QAAS,CACPvD,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAaoB,GAAe,CAAEnB,kBAAmBC,YAAId,UAInFiC,cAAe,CACbhH,GAAI,EACJ0B,KAAM,2BACN7E,QAAS,CACPgF,SAAS,EACTW,MAAOsD,GAETzD,QAAS,CACPvD,EAAO,CACLC,UAAU,IAAI2G,KAAUC,aAAasB,GAAa,CAAErB,kBAAmBC,YAAId,aC7UjFmC,GAAW,CACfhK,ODoVmB,WAA8C,IAA7C4C,EAA4C,uDAApCkF,GAAoC,yCAApB5E,EAAoB,EAApBA,KAAMU,EAAc,EAAdA,QAClD,OAAQV,GACN,KAAKC,EACH,IAAM8G,EAAK,eAAQrH,EAAMgB,EAAQD,MAC3BuG,GAAkBD,EAAMtK,QAAQgF,QAEtC,GADAsF,EAAMtK,QAAQgF,QAAUuF,EACpBA,EAAgB,CAClB,IAAIC,GAAwB,EAC5B7F,OAAO8F,OAAOH,EAAMrF,UAAUyF,SAAQ,SAAAvF,GAAY,IAAD,EACzCH,EAAO,UAAGG,EAAQnF,QAAQqI,mBAAnB,SACblD,EAAQnF,QAAQgF,QAAUA,EACtBA,IACFwF,GAAwB,MAGvBA,GACH7F,OAAO8F,OAAOH,EAAMrF,UAAUyF,SAAQ,SAAAvF,GACpCA,EAAQnF,QAAQgF,SAAU,UAI9BL,OAAO8F,OAAOH,EAAMrF,UAAUyF,SAAQ,SAAAvF,GACpCA,EAAQnF,QAAQqI,YAAclD,EAAQnF,QAAQgF,QAC9CG,EAAQnF,QAAQgF,SAAU,KAG9B,OAAO,2BAAK/B,GAAZ,kBAAoBgB,EAAQD,IAAMsG,IACpC,KAAK7G,EACH,KAAMQ,EAAQI,YAAYpB,MACrBgB,EAAQG,eAAenB,EAAMgB,EAAQI,UAAUY,UAAW,OAAOhC,EAEtE,IAAM0H,EAAQ,eAAQ1H,GACdgC,EAAahC,EAAMgB,EAAQI,UAA3BY,SAEF2F,EAAkB3F,EAAShB,EAAQG,aAEnCyG,GAAaD,EAAgB5K,QAAQgF,QAU3C,OATA4F,EAAgB5K,QAAQqI,aAAewC,EACvCD,EAAgB5K,QAAQgF,QAAU6F,EAC9BA,IACFF,EAAS1G,EAAQI,UAAUrE,QAAQgF,SAAU,GAG3CL,OAAO8F,OAAOxF,GAAU6F,OAAM,SAAA3F,GAAO,OAAKA,EAAQnF,QAAQgF,aAC5D2F,EAAS1G,EAAQI,UAAUrE,QAAQgF,SAAU,GAExC2F,EACT,QAAS,OAAO1H,KChYL8H,eAAgBV,ICHzBW,GAAmBC,OAAM,sCAA4CC,IAc5DC,GAZQ,WAAwB,IAAvBhD,EAAsB,uDAAP,GAC/BiD,EAAc,CAACC,KAErB,OAAOC,YACLjB,GACAlC,EACA6C,GACEO,IAAe,WAAf,EAAmBH,MCLnBI,I,OAAQL,MAEdM,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUH,MAAQA,GAAlB,SACE,cAAC,EAAD,QAGJI,SAASC,eAAe,YAM1BjG,O","file":"static/js/main.4d19d533.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nconst MapContext = new createContext({ map: {} });\r\n\r\nexport default MapContext;\r\n","import React, { useEffect, useRef, useState } from 'react';\nimport { View, Map as OLMap } from 'ol';\nimport MapContext from './map.context';\nimport './map.scss';\nimport { fromLonLat } from 'ol/proj';\n\nconst Map = ({\n  children,\n  zoom,\n}) => {\n  const mapRef = useRef(null);\n  const [map, setMap] = useState(null);\n\n  useEffect(() => {\n    const options = {\n      view: new View({ zoom, center: fromLonLat([53.206889, 56.853093]) }),\n      layers: [],\n      controls: [],\n      overlays: [],\n    };\n\n    const mapObject = new OLMap(options);\n    mapObject.setTarget(mapRef.current);\n\n    setMap(mapObject);\n\n    return () => {\n      mapObject.setTarget(undefined);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (map) {\n      map.getView().setZoom(zoom);\n    }\n  }, [zoom]);\n\n  return (\n    <MapContext.Provider value={{ map }}>\n      <div ref={mapRef} className=\"ol-map\">\n        {children}\n      </div>\n    </MapContext.Provider>\n  );\n};\n\nexport default Map;\n","import React from \"react\";\r\n\r\nconst Layers = ({ children }) => (<div>{children}</div>);\r\n\r\nexport default Layers;\r\n","import { useContext, useEffect } from 'react';\nimport MapContext from \"../../map/map.context\";\nimport OLVectorLayer from \"ol/layer/Vector\";\n\nconst VectorLayer = ({ source, options = {} }) => {\n  const { map } = useContext(MapContext);\n\n  useEffect(() => {\n    if (!map) {\n      return;\n    }\n\n    const vectorLayer = new OLVectorLayer({\n      declutter: true,\n      source,\n      ...options\n    });\n    map.addLayer(vectorLayer);\n\n    return () => {\n      if (map) {\n        map.removeLayer(vectorLayer);\n      }\n    };\n  }, [map, options]);\n\n  return null;\n};\nexport default VectorLayer;\n","import { useContext, useEffect } from 'react';\nimport MapContext from '../../map/map.context';\nimport OLTileLayer from 'ol/layer/Tile';\n\nconst TileLayer = ({ source, zIndex = 0 }) => {\n  const { map } = useContext(MapContext);\n\n  useEffect(() => {\n    if (!map) {\n      return;\n    }\n\n    const tileLayer = new OLTileLayer({\n      source,\n      zIndex,\n    });\n\n    map.addLayer(tileLayer);\n    tileLayer.setZIndex(zIndex);\n\n    return () => {\n      if (map) {\n        map.removeLayer(tileLayer);\n      }\n    };\n  }, [map]);\n\n  return null;\n};\n\nexport default TileLayer;\n","import { Vector as VectorSource } from 'ol/source';\r\n\r\nfunction vector({ features }) {\r\n  return new VectorSource({\r\n    features\r\n  });\r\n}\r\n\r\nexport default vector;\r\n","import * as olSource from \"ol/source\";\r\n\r\nfunction osm() {\r\n  return new olSource.OSM();\r\n}\r\n\r\nexport default osm;\r\n","import React from 'react';\r\n\r\nconst Controls = ({ children, ...attrs }) => (<div {...attrs}>{children}</div>);\r\n\r\nexport default Controls;\r\n","import { useContext, useEffect } from 'react';\r\nimport { FullScreen } from 'ol/control';\r\nimport MapContext from '../../map/map.context';\r\nimport './full-screen.scss';\r\n\r\nconst FullScreenControl = () => {\r\n  const { map } = useContext(MapContext);\r\n\r\n  useEffect(() => {\r\n    if (!map) {\r\n      return;\r\n    }\r\n    const fullScreenControl = new FullScreen({\r\n      className: 'control-full-screen',\r\n      activeClassName: 'control-full-screen__button',\r\n      inactiveClassName: 'control-full-screen__button',\r\n      tipLabel: 'Полноэкранный режим'\r\n    });\r\n    map.controls.push(fullScreenControl);\r\n\r\n    return () => map.controls.remove(fullScreenControl);\r\n  }, [map]);\r\n\r\n  return null;\r\n};\r\nexport default FullScreenControl;\r\n","export const selectLayers = state => state.layers;\n\n","import React from 'react';\r\nimport './input.scss';\r\n\r\nconst Input = ({\r\n  id,\r\n  label = '',\r\n  labelClassName = '',\r\n  ...attrs\r\n}) => {\r\n  return (\r\n    <label htmlFor={id} className={`input__container ${labelClassName}`}>\r\n      {label}\r\n      <input type=\"text\" className='input' {...attrs} />\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","export const TOGGLE_LAYER_VISIBILITY = 'LAYER/TOGGLE_LAYER_VISIBILITY';\nexport const TOGGLE_SUBLAYER_VISIBILITY = 'LAYER/TOGGLE_SUBLAYER_VISIBILITY';\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectLayers } from '../../../redux/selectors/layers.selectors';\nimport Input from '../../input/input';\nimport { toggleLayerVisibility, toggleSubLayerVisibility } from '../../../redux/actions/layers.actions';\nimport './layers-controller.scss';\n\nconst LayersController = ({\n  controls = {}\n}) => {\n  const dispatch = useDispatch();\n  const regions = useSelector(selectLayers);\n\n  const handleCheckbox = (key) => () => dispatch(toggleLayerVisibility(key));\n  const handleSublayerCheckbox = (key, sublayerKey) => () => dispatch(toggleSubLayerVisibility(key, sublayerKey));\n\n  const handleControl = control => ({ target: { checked } }) => control(checked);\n\n  return (\n    <ul className='layers-controller'>\n      {Object.entries(controls).map(([key, { name, control, value }]) => (\n        <li key={key} className='layers-controller__element'>\n          <Input\n            type='checkbox'\n            checked={value}\n            label={name}\n            onChange={handleControl(control)}\n          />\n        </li>\n      ))}\n      {Object.entries(regions).map(([key, region]) => (\n        <li key={key} className='layers-controller__element'>\n          <Input\n            type='checkbox'\n            checked={region.options.visible}\n            label={region.name}\n            onChange={handleCheckbox(key)}\n          />\n          {Object.entries(region.subjects).map(([subjectKey, subject]) => (\n            <ul className='layers-controller__sublist' key={subjectKey}>\n              <li className='layers-controller__element'>\n                <Input\n                  type='checkbox'\n                  checked={subject.options.visible}\n                  label={subject.name}\n                  onChange={handleSublayerCheckbox(key, subjectKey)}\n                />\n              </li>\n            </ul>\n          ))}\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default LayersController;\n","import { TOGGLE_LAYER_VISIBILITY, TOGGLE_SUBLAYER_VISIBILITY } from '../../constants/actions';\n\nexport const toggleLayerVisibility = (key) => ({ type: TOGGLE_LAYER_VISIBILITY, payload: { key } });\nexport const toggleSubLayerVisibility = (layerKey, sublayerKey) => layerKey && sublayerKey &&\n  ({ type: TOGGLE_SUBLAYER_VISIBILITY, payload: { layerKey, sublayerKey } });\n","import React, { useRef, useState } from 'react';\nimport Map from '../map/map';\nimport { Layers, TileLayer, VectorLayer } from '../layers';\nimport { osm } from '../source';\nimport { Controls, FullScreenControl } from '../controls';\nimport './app.scss';\nimport { useSelector } from 'react-redux';\nimport { selectLayers } from '../../redux/selectors/layers.selectors';\nimport LayersController from '../controls/layers-controller/layers-controller';\n\nconst App = () => {\n  const zoom = useRef(11);\n  const regions = useSelector(selectLayers);\n  const [isVisibleOSM, setIsVisibleOSM] = useState(true);\n\n  return (\n    <div className='app'>\n      <Map zoom={zoom.current}>\n        <Layers>\n          {isVisibleOSM && (\n            <TileLayer\n              source={osm()}\n              zIndex={0}\n            />\n          )}\n          {Object.entries(regions).map(([regionKey, region]) => Object.entries(region.subjects).map((([subjectKey, subject]) =>\n            subject.vectors.map((vector, ind) => (\n              <VectorLayer\n                key={`${regionKey}-${subjectKey}-${ind}`}\n                source={vector instanceof Array ? vector[0] : vector}\n                options={ {\n                  ...region.options,\n                  ...subject.options,\n                  style: vector instanceof Array ? vector[1] : (subject.options.style ?? region.options.style)\n                } }\n              />\n            ))\n          )))}\n        </Layers>\n        <Controls>\n          <FullScreenControl />\n          <LayersController controls={{ osm: { name: 'Карта OSM', control: setIsVisibleOSM, value: isVisibleOSM } }} />\n        </Controls>\n      </Map>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { Circle, Fill, Stroke, Style, } from 'ol/style';\n\nexport const border = new Style({\n  stroke: new Stroke({\n    color: 'rgba(238, 20, 16, 1.0)',\n    lineDash: null,\n    lineCap: 'square',\n    lineJoin: 'bevel',\n    width: 0,\n  }),\n});\n\nexport const region = [\n  new Style({\n    stroke: new Stroke({\n      color: 'rgba(114, 133, 132, 1.0)',\n      lineDash: null,\n      lineCap: 'butt',\n      lineJoin: 'miter',\n      width: 0,\n    }),\n    fill: new Fill({ color: 'rgba(222, 255, 255, 0.35)' }),\n  }),\n];\n\nexport const river = [\n  new Style({\n    stroke: new Stroke({\n      color: 'rgba(81, 10, 146, 1.0)',\n      lineDash: null,\n      lineCap: 'square',\n      lineJoin: 'bevel',\n      width: 0,\n    }),\n    fill: new Fill({ color: 'rgba(222, 255, 255, 1.0)' }),\n  }),\n];\n\nexport const city = [\n  new Style({\n    image: new Circle({\n      radius: 4.0,\n      stroke: new Stroke({\n        color: 'rgba(0, 0, 0, 1.0)',\n        lineDash: null,\n        lineCap: 'butt',\n        lineJoin: 'miter',\n        width: 0,\n      }),\n      fill: new Fill({ color: 'rgba(231, 50, 247, 1.0)' }),\n    }),\n  }),\n];\n\nexport const oopt = [\n  new Style({\n    stroke: new Stroke({\n      color: 'rgba(0, 0, 0, 1.0)',\n      lineDash: null,\n      lineCap: 'butt',\n      lineJoin: 'miter',\n      width: 0,\n    }),\n    fill: new Fill({ color: 'rgba(222,124,124,0.3)' }),\n  }),\n];\n\nexport const seas = [\n  new Style({\n    stroke: new Stroke({\n      color: 'rgba(0, 0, 0, 1.0)',\n      lineDash: null,\n      lineCap: 'butt',\n      lineJoin: 'miter',\n      width: 0,\n    }),\n    fill: new Fill({ color: 'rgba(6, 240, 240, 0.3)' }),\n  }),\n];\n\nexport const noise = (color) => [\n  new Style({\n    stroke: new Stroke({\n      color,\n      lineDash: null,\n      lineCap: 'square',\n      lineJoin: 'bevel',\n      width: 4\n    }),\n  })\n];\n\nexport const landscaping = (fillColor) => [\n  new Style({\n    stroke: new Stroke({\n      color: 'rgba(35,35,35,0.5)',\n      lineDash: null,\n      lineCap: 'butt',\n      lineJoin: 'miter',\n      width: 0\n    }),\n    fill: new Fill({ color: fillColor }),\n  })\n];\n\nexport const industrialZones = [\n  new Style({\n    stroke: new Stroke({\n      color: 'rgba(35, 35, 35, 1.0)',\n      lineDash: null,\n      lineCap: 'butt',\n      lineJoin: 'miter',\n      width: 0\n    }),\n    fill: new Fill({ color: 'rgba(231, 113, 72, 0.6)' }),\n  })\n];\n\nexport const kiza = (fillColor) => [\n  new Style({\n    stroke: new Stroke({\n      color: 'rgba(35,35,35,1.0)',\n      lineDash: null,\n      lineCap: 'butt',\n      lineJoin: 'miter',\n      width: 0\n    }),\n    fill: new Fill({ color: fillColor })\n  })\n];\n","import GeoJSON from 'ol/format/GeoJSON';\nimport { get } from 'ol/proj';\nimport { vector } from '../../components/source';\nimport { TOGGLE_LAYER_VISIBILITY, TOGGLE_SUBLAYER_VISIBILITY } from '../../constants/actions';\nimport * as styles from '../../core/layers/styles';\n\nimport geojsonBorders from '../../assets/layers/borders.json';\nimport geojsonRegions from '../../assets/layers/regions.json';\nimport geojsonRivers from '../../assets/layers/rivers.json';\nimport geojsonCities from '../../assets/layers/cities.json';\nimport geojsonOOPT from '../../assets/layers/oopt.json';\nimport geojsonSeas from '../../assets/layers/seas.json';\n\nimport noise58 from '../../assets/layers/noise/noise58.json';\nimport noise61 from '../../assets/layers/noise/noise61.json';\nimport noise64 from '../../assets/layers/noise/noise64.json';\nimport noise70 from '../../assets/layers/noise/noise70.json';\nimport noise73 from '../../assets/layers/noise/noise73.json';\nimport noise76 from '../../assets/layers/noise/noise76.json';\nimport noise79 from '../../assets/layers/noise/noise79.json';\n\nimport landscaping0 from '../../assets/layers/landscaping/landscaping_0-19.json';\nimport landscaping20 from '../../assets/layers/landscaping/landscaping_20-39.json';\nimport landscaping40 from '../../assets/layers/landscaping/landscaping_40-59.json';\nimport landscaping60 from '../../assets/layers/landscaping/landscaping_60-100.json';\n\nimport industrialZoneLeninskiy from '../../assets/layers/industrialZones/industrial_zone_leninskiy.json';\nimport industrialZoneOktyabrsky from '../../assets/layers/industrialZones/industrial_zone_oktyabrsky.json';\nimport industrialZonePervomaysky from '../../assets/layers/industrialZones/industrial_zone_pervomaysky.json';\nimport industrialZoneUstinovsky from '../../assets/layers/industrialZones/industrial_zone_ustinovskiy.json';\n\nimport kiza1 from '../../assets/layers/kiza/kiza1.json';\nimport kiza15 from '../../assets/layers/kiza/kiza1.5.json';\nimport kiza23 from '../../assets/layers/kiza/kiza2.3.json';\nimport kiza28 from '../../assets/layers/kiza/kiza2.8.json';\nimport kiza33 from '../../assets/layers/kiza/kiza3.3.json';\n\nimport index5 from '../../assets/layers/ib_meb/index5.json';\nimport index7 from '../../assets/layers/ib_meb/index7.json';\nimport index9 from '../../assets/layers/ib_meb/index9.json';\nimport index11 from '../../assets/layers/ib_meb/index11.json';\nimport index13 from '../../assets/layers/ib_meb/index13.json';\nimport index15 from '../../assets/layers/ib_meb/index15.json';\n\nimport iza14 from '../../assets/layers/iza/iza_1-4.json';\nimport iza17 from '../../assets/layers/iza/iza_1-7.json';\n\nimport izv01 from '../../assets/layers/izv/izv_0-1.json';\nimport izv03 from '../../assets/layers/izv/izv_0-3.json';\nimport izv07 from '../../assets/layers/izv/izv_0-7.json';\n\nimport span13 from '../../assets/layers/span_1990/span_1-3_1990.json';\nimport span17 from '../../assets/layers/span_1990/span_1-7_1990.json';\nimport span23 from '../../assets/layers/span_1990/span_2-3_1990.json';\nimport span28 from '../../assets/layers/span_1990/span_2-8_1990.json';\n\nimport span03_2000 from '../../assets/layers/span_2000/span_0-3_2000.json';\nimport span07_2000 from '../../assets/layers/span_2000/span_0-7_2000.json';\nimport span09_2000 from '../../assets/layers/span_2000/span_0-9_2000.json';\nimport span12_2000 from '../../assets/layers/span_2000/span_1-2_2000.json';\n\nconst noises = [\n  [noise58, 'rgba(251, 249, 224, 1)'],\n  [noise61, 'rgba(249, 236, 142, 1)'],\n  [noise64, 'rgba(255, 194, 101, 1)'],\n  [noise70, 'rgba(250, 147, 104, 1)'],\n  [noise73, 'rgba(198, 134, 106, 1)'],\n  [noise76, 'rgba(198, 134, 106, 1)'],\n  [noise79, 'rgba(198, 134, 106, 1)'],\n];\n\nconst landscaping = [\n  [landscaping0, 'rgba(237, 254, 210, 0.5)'],\n  [landscaping20, 'rgba(159, 207, 145, 0.5)'],\n  [landscaping40, 'rgba(83, 176, 64, 0.5)'],\n  [landscaping60, 'rgba(0, 129, 0, 0.5)'],\n];\n\nconst emissions = [\n  industrialZoneLeninskiy,\n  industrialZoneOktyabrsky,\n  industrialZonePervomaysky,\n  industrialZoneUstinovsky,\n];\n\nconst kizas = [\n  [kiza1, 'rgba(128, 207, 127, 0.5)'],\n  [kiza15, 'rgba(255, 254, 128, 0.5)'],\n  [kiza23, 'rgba(239, 184, 127, 0.5)'],\n  [kiza28, 'rgba(255, 127, 128, 0.5)'],\n  [kiza33, 'rgba(166, 147, 128, 0.5)'],\n];\n\nconst ibMeb = [\n  [index5, 'rgba(79, 40, 0, 0.5)'],\n  [index7, 'rgba(254, 0, 0, 0.5)'],\n  [index9, 'rgba(207, 104, 1, 0.5)'],\n  [index11, 'rgba(255, 255, 1, 0.5)'],\n  [index13, 'rgba(0, 176, 0, 0.5)'],\n  [index15, 'rgba(1, 80, 0, 0.5)'],\n];\n\nconst izas = [\n  [iza14, 'rgba(253, 233, 141, 0.5)'],\n  [iza17, 'rgba(255, 164, 138, 0.5)'],\n];\n\nconst izvs = [\n  [izv01, 'rgba(126, 199, 115, 0.6)'],\n  [izv03, 'rgba(244, 242, 217, 0.6)'],\n  [izv07, 'rgba(217, 112, 111, 0.6)'],\n];\n\nconst spans = [\n  [\n    [span13, 'rgba(255, 192, 124, 0.5)'],\n    [span17, 'rgba(255, 95, 95, 0.5)'],\n    [span23, 'rgba(255, 0, 0, 0.5)'],\n    [span28, 'rgba(148, 0, 0, 0.5)'],\n  ],\n  [\n    [span03_2000, 'rgba(89, 254, 255, 0.5)'],\n    [span07_2000, 'rgba(90, 255, 155, 0.5)'],\n    [span09_2000, 'rgba(255, 255, 101, 0.5)'],\n    [span12_2000, 'rgba(255, 192, 124, 0.5)'],\n  ]\n];\n\nconst PROJECTION = 'EPSG:3857';\n\nconst initialState = {\n  izhevsk: {\n    name: 'Ижевск',\n    options: {\n      visible: true,\n    },\n    subjects: {\n      noise: {\n        name: 'Уровень эквивалентного шума',\n        options: {\n          visible: false,\n          prevVisible: null,\n        },\n        vectors: noises.map(([noise, color]) => [\n          vector({\n            features: new GeoJSON().readFeatures(noise, { featureProjection: get(PROJECTION) })\n          }),\n          styles.noise(color)\n        ])\n      },\n      landscaping: {\n        name: 'Озеленение',\n        options: {\n          visible: true,\n          prevVisible: null,\n        },\n        vectors: landscaping.map(([landscape, fillColor]) => [\n          vector({\n            features: new GeoJSON().readFeatures(landscape, { featureProjection: get(PROJECTION) }),\n          }),\n          styles.landscaping(fillColor)\n        ])\n      },\n      industrialZones: {\n        name: 'Промышленные зоны',\n        options: {\n          visible: false,\n          prevVisible: null,\n        },\n        vectors: emissions.map((emission) => [\n          vector({\n            features: new GeoJSON().readFeatures(emission, { featureProjection: get(PROJECTION) }),\n          }),\n          styles.industrialZones\n        ])\n      },\n      kiza: {\n        name: 'КИЗА',\n        options: {\n          visible: false,\n          prevVisible: null,\n        },\n        vectors: kizas.map(([kiza, fillColor]) => [\n          vector({\n            features: new GeoJSON().readFeatures(kiza, { featureProjection: get(PROJECTION) }),\n          }),\n          styles.kiza(fillColor)\n        ])\n      },\n      ibMeb: {\n        name: 'Индекс медико-экологического благополучия',\n        options: {\n          visible: false,\n          prevVisible: null,\n        },\n        vectors: ibMeb.map(([ib, fillColor]) => [\n          vector({\n            features: new GeoJSON().readFeatures(ib, { featureProjection: get(PROJECTION) }),\n          }),\n          styles.kiza(fillColor)\n        ])\n      },\n      iza: {\n        name: 'Индекс загрязнения атмосферного воздуха в среднегодовом исчислении (нач. 2000г.)',\n        options: {\n          visible: false,\n          prevVisible: null,\n        },\n        vectors: izas.map(([iza, fillColor]) => [\n          vector({\n            features: new GeoJSON().readFeatures(iza, { featureProjection: get(PROJECTION) }),\n          }),\n          styles.landscaping(fillColor)\n        ])\n      },\n      izv: {\n        name: 'Состояние питьевой воды (нач. 2000г.)',\n        options: {\n          visible: false,\n          prevVisible: null,\n        },\n        vectors: izvs.map(([izv, fillColor]) => [\n          vector({\n            features: new GeoJSON().readFeatures(izv, { featureProjection: get(PROJECTION) }),\n          }),\n          styles.landscaping(fillColor)\n        ])\n      },\n      span1990: {\n        name: 'Суммарный показатель антропогенной нагрузки (1990г.)',\n        options: {\n          visible: false,\n          prevVisible: null,\n        },\n        vectors: spans[0].map(([span, fillColor]) => [\n          vector({\n            features: new GeoJSON().readFeatures(span, { featureProjection: get(PROJECTION) }),\n          }),\n          styles.landscaping(fillColor)\n        ])\n      },\n      span2000: {\n        name: 'Суммарный показатель антропогенной нагрузки (2000г.)',\n        options: {\n          visible: false,\n          prevVisible: null,\n        },\n        vectors: spans[1].map(([span, fillColor]) => [\n          vector({\n            features: new GeoJSON().readFeatures(span, { featureProjection: get(PROJECTION) }),\n          }),\n          styles.landscaping(fillColor)\n        ])\n      },\n    }\n  },\n  urfo: {\n    name: 'Уральский федеральный округ',\n    options: {\n      visible: false,\n    },\n    subjects: {\n      borders: {\n        id: 0,\n        name: 'Границы',\n        options: {\n          visible: false,\n          style: styles.border,\n        },\n        vectors: [\n          vector({\n            features: new GeoJSON().readFeatures(geojsonBorders, { featureProjection: get(PROJECTION) }),\n          })\n        ],\n      },\n      regions: {\n        id: 1,\n        name: 'Регионы',\n        options: {\n          visible: false,\n          style: styles.region,\n        },\n        vectors: [\n          vector({\n            features: new GeoJSON().readFeatures(geojsonRegions, { featureProjection: get(PROJECTION) }),\n          })\n        ]\n      },\n      seas: {\n        id: 2,\n        name: 'Моря',\n        options: {\n          visible: false,\n          style: styles.seas,\n        },\n        vectors: [\n          vector({\n            features: new GeoJSON().readFeatures(geojsonSeas, { featureProjection: get(PROJECTION) }),\n          })\n        ]\n      },\n      rivers: {\n        id: 3,\n        name: 'Реки',\n        options: {\n          visible: false,\n          style: styles.river,\n        },\n        vectors: [\n          vector({\n            features: new GeoJSON().readFeatures(geojsonRivers, { featureProjection: get(PROJECTION) }),\n          })\n        ]\n      },\n      cities: {\n        id: 4,\n        name: 'Города',\n        options: {\n          visible: false,\n          style: styles.city,\n        },\n        vectors: [\n          vector({\n            features: new GeoJSON().readFeatures(geojsonCities, { featureProjection: get(PROJECTION) }),\n          })\n        ]\n      },\n      protectedArea: {\n        id: 5,\n        name: 'ООПТ',\n        options: {\n          visible: false,\n          style: styles.oopt,\n        },\n        vectors: [\n          vector({\n            features: new GeoJSON().readFeatures(geojsonOOPT, { featureProjection: get(PROJECTION) }),\n          })\n        ]\n      },\n    }\n  },\n};\n\nconst layerReducer = (state = initialState, { type, payload }) => {\n  switch (type) {\n    case TOGGLE_LAYER_VISIBILITY:\n      const layer = { ...state[payload.key] };\n      const isLayerVisible = !layer.options.visible;\n      layer.options.visible = isLayerVisible;\n      if (isLayerVisible) {\n        let isSomeSublayerVisible = false;\n        Object.values(layer.subjects).forEach(subject => {\n          const visible = subject.options.prevVisible ?? true;\n          subject.options.visible = visible;\n          if (visible) {\n            isSomeSublayerVisible = true;\n          }\n        });\n        if (!isSomeSublayerVisible) {\n          Object.values(layer.subjects).forEach(subject => {\n            subject.options.visible = true;\n          });\n        }\n      } else {\n        Object.values(layer.subjects).forEach(subject => {\n          subject.options.prevVisible = subject.options.visible;\n          subject.options.visible = false;\n        });\n      }\n      return { ...state, [payload.key]: layer };\n    case TOGGLE_SUBLAYER_VISIBILITY:\n      if (!(payload.layerKey in state\n        && payload.sublayerKey in state[payload.layerKey].subjects)) return state;\n\n      const newState = { ...state };\n      const { subjects } = state[payload.layerKey];\n\n      const toggledSublayer = subjects[payload.sublayerKey];\n\n      const isVisible = !toggledSublayer.options.visible;\n      toggledSublayer.options.prevVisible = !isVisible;\n      toggledSublayer.options.visible = isVisible;\n      if (isVisible) {\n        newState[payload.layerKey].options.visible = true;\n      }\n\n      if (Object.values(subjects).every(subject => !subject.options.visible)) {\n        newState[payload.layerKey].options.visible = false;\n      }\n      return newState;\n    default: return state;\n  }\n};\n\nexport default layerReducer;\n","import { combineReducers } from 'redux';\nimport layers from './layers.reducer';\n\nconst reducers = {\n  layers\n};\n\nexport default combineReducers(reducers);\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducers from '../reducers';\n\nconst composeEnhancers = window['__REDUX_DEVTOOLS_EXTENSION_COMPOSE__'] || compose;\n\nconst configureStore = (initialState = {}) => {\n  const middlewares = [thunk];\n\n  return createStore(\n    reducers,\n    initialState,\n    composeEnhancers(\n      applyMiddleware(...middlewares),\n    ),\n  );\n}\n\nexport default configureStore;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/app/app';\nimport reportWebVitals from './reportWebVitals';\nimport configureStore from './redux/store/store';\nimport './index.scss';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={ store }>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('geo-map')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}